<!-----------------------------------------
  Password Reset Confirm Page
  -----------------------------------------
  Purpose:
  - Displayed after the user clicks the reset link from the email
  - Allows the user to set a new password
  - Handles validation errors (invalid token, weak password, etc.)
-------------------------------------------
-->
  

{% extends "blog/base.html" %}

{% block content %}

<!-- Inline styles specific to this page -->
<style>
  body { overflow-x: hidden; }
  .form-error, .errorlist, .nonfield { color: #d9534f !important; font-weight: 500; margin-bottom: 12px; text-align: left; }
</style>

<!-- Full-page centered container -->
<div class="login-bg" style="height: 100vh; min-height: 100vh; display: flex; align-items: center; justify-content: center; margin: 0; padding: 0;">
    
    <!-- Card layout for the password reset form -->
    <div class="login-card login-bg" style="background: #f6f8ff !important; border-radius: 18px; box-shadow: 0 2px 16px rgba(207,109,150,0.08); padding: 32px 32px 24px 32px; max-width: 400px; width: 100%; text-align: center; margin: 0;">
        
        <!-- Illustration for visual guidance -->
        <img src="/static/blog/img/reset-confirm.jpg" alt="Login illustration"
            style="width: 100%; max-width: 340px; margin-bottom: 18px;">

        <!-- Page title -->
        <h1 style="font-family: 'Lobster', cursive; color: #a55c8f; font-size: 2.5rem; margin-bottom: 8px;">Set New Password</h1>

        <!-- Display non-field errors (e.g. invalid or expired token) -->
        {% if form.non_field_errors %}
          <div class="form-error">{{ form.non_field_errors }}</div>
        {% endif %}

        <!-- Password reset confirmation form -->
        <form method="post" style="text-align:left;">
            {% csrf_token %}
            {{ form.as_p }}

            <!-- Submit button -->
            <button type="submit" class="save btn btn-secondary" style="width: 100%; margin-bottom: 10px;">Change password</button>
        </form>
    </div>
</div>
{% endblock %}